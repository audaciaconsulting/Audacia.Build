# Template: Download SBOM artifact for project name derivation
parameters:
  # Parameter: artifactName
  # - Specifies the name of the artifact to download
  - name: artifactName
    type: string
    default: 'sbom-files'

steps:
  # Step: Download SBOM artifact
  # - Always downloads the specified SBOM artifact
  # - Uses the `DownloadPipelineArtifact` task to download the artifact
  # - Downloads the artifact to the temporary directory `$(Agent.TempDirectory)/sbom`
  # - Continues execution even if the download fails
  # - Always runs this step regardless of pipeline conditions
  - task: DownloadPipelineArtifact@2
    displayName: "Download SBOM artifact"
    inputs:
      artifact: ${{ parameters.artifactName }}
      path: $(Agent.TempDirectory)/sbom
      buildType: current
    continueOnError: true
    condition: always()
