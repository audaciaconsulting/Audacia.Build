# Template: download SBOM artifact to the temp directory
parameters:
  # Parameter: artifactName
  # - Specifies the name of the artifact to download.
  - name: artifactName
    type: string
    default: 'sbom-files'

steps:
  # Step: Download SBOM artifact
  # - Uses the DownloadPipelineArtifact@2 task to download the specified artifact.
  # - Downloads the artifact to a temporary directory on the agent.
  # - Filters files using the pattern '**/*.json' to include only JSON files.
  - task: DownloadPipelineArtifact@2
    displayName: "Download SBOM artifact"
    inputs:
      artifact: ${{ parameters.artifactName }}
      path: $(Agent.TempDirectory)/sbom
      patterns: '**/*.json'
